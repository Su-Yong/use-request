"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[918],{1804:function(e,t,n){n.d(t,{Z:function(){return W}});var r=n(7294),i=n(5861),a=n(7757),c=n.n(a),u=function(){var e=(0,i.Z)(c().mark((function e(t,n,r,i,a){var u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r="POST"),void 0===i&&(i={}),void 0===a&&(a="JSON"),e.next=5,fetch(t,{method:r||(n?"POST":"GET"),body:JSON.stringify(n),headers:Object.assign({"Content-Type":"application/json"},i)});case 5:if(u=e.sent,"JSON"!==a){e.next=8;break}return e.abrupt("return",u.json());case 8:if("TEXT"!==a){e.next=10;break}return e.abrupt("return",u.text());case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),o={initWith:!0,cache:!0,dedupingFetching:!0,initWhenUndefined:!0,ignoreSameValue:!1,revalidationInterval:0,fetcher:u},s=["initWith","cache","dedupingFetching","initWhenUndefined","ignoreSameValue","revalidationInterval","fetcher"],f=function(e,t){var n={};return s.forEach((function(r){if("initWith"===r){var i=[];if(Array.isArray(e.initWith)&&i.push(e.initWith),Array.isArray(t.initWith)&&i.push(t.initWith),i.length>0){var a=[];i.forEach((function(e){a.length<e.length&&a.push.apply(a,e.slice(a.length))})),n.initWith=a}else Array.isArray(n.initWith)||(Object.hasOwnProperty.call(e,"initWith")?n.initWith=e.initWith:Object.hasOwnProperty.call(t,"initWith")&&(n.initWith=t.initWith))}else Object.hasOwnProperty.call(e,r)?n[r]=e[r]:Object.hasOwnProperty.call(t,r)&&(n[r]=t[r])})),n},l=function(e){return f(e,o)},h=r.createContext({cache:new Map,options:o,middlewares:[]}),d=function(){var e=(0,r.useContext)(h),t=e.cache,n=e.options,i=e.middlewares;return{cache:t,options:(0,r.useMemo)((function(){return l(n)}),[n]),middlewares:i}},p=0,v=function(e){return{id:p++,timestamp:Date.now(),state:e}},g=new Map,y=function(e,t){var n=g.get(e);null==n||n.forEach((function(e){return e(t)}))},b=function(e){var t=(0,r.useRef)(e),n=(0,r.useRef)(new Set),i=(0,r.useState)({})[1],a=(0,r.useMemo)((function(){return new Proxy(t.current,{get:function(e,t){return n.current.add(t),e[t]}})}),[t,n]),c=(0,r.useCallback)((function(e,r){if(Array.isArray(e))e.forEach((function(e,n){var i=r[n]instanceof Function?r[n](t.current[e]):r[n];t.current[e]=i})),e.some((function(e){return n.current.has(e)}))&&i({});else{var a=r instanceof Function?r(t.current[e]):r;t.current[e]=a,n.current.has(e)&&i({})}}),[t,n]);return[a,c,t]},m=function e(t,n){if(t&&n&&"object"==typeof t&&"object"==typeof n){if(Array.isArray(t)&&Array.isArray(n))return t.length===n.length&&t.every((function(r,i){return e(t[i],n[i])}));var r=Object.keys(t),i=Object.keys(n);return!(r.length!==i.length||!r.every((function(e){return i.some((function(t){return e===t}))})))&&r.every((function(r){return e(t[r],n[r])}))}return t===n},w=function(e,t){void 0===t&&(t={});var n=d(),a=(0,r.useRef)(!1),u=(0,r.useRef)(n),o=(0,r.useRef)(e),s=(0,r.useMemo)((function(){var t;return"string"==typeof e?e:null!=(t=e.id)?t:e.url}),[e]),h=(0,r.useMemo)((function(){return"string"==typeof e?e:e.url}),[e]),p=(0,r.useMemo)((function(){var e;return l(f(null!=(e=t)?e:{},n.options))}),[t,n.options]),w=function(e,t,n){var r,i,a={data:void 0,error:void 0,isValidating:!1};return e&&t.cache&&!1!==t.initWith&&null!=(r=null==n||null==(i=n.get(e))?void 0:i.state)?r:a}(s,p,n.cache),W=w.data,O=w.error,k=w.isValidating,A=b({data:W,error:O,isValidating:k||Array.isArray(p.initWith)}),V=A[0],j=A[1],x=A[2],E=(0,r.useCallback)((function(e){var t=Object.entries(e).filter((function(e){var t=e[0],n=e[1];return!p.ignoreSameValue||!m(x.current[t],n)})),n=t.map((function(e){return e[0]})),r=t.map((function(e){return e[1]}));j(n,r)}),[x,p.ignoreSameValue]),S=(0,r.useCallback)((0,i.Z)(c().mark((function e(){var t,n,r,i,f,l,d,g,b,m,w,W,O=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=O.length,n=new Array(t),r=0;r<t;r++)n[r]=O[r];if(i=u.current.middlewares.reverse().map((function(e){return e({key:o.current,state:{data:x.current.data,error:x.current.error,isValidating:x.current.isValidating},fetchData:n})})).filter((function(e){return e})),!p.dedupingFetching){e.next=7;break}if(!p.cache||null==(f=u.current.cache.get(s))||null==(l=f.state)||!l.isValidating){e.next=5;break}return e.abrupt("return");case 5:if(p.cache||!x.current.isValidating){e.next=7;break}return e.abrupt("return");case 7:if(p.cache&&(b="boolean"==typeof p.cache?u.current.cache:p.cache,(m=b.get(s))&&p.revalidationInterval>0&&(null!=(g=null==m?void 0:m.timestamp)?g:0)>Date.now()-p.revalidationInterval?d=m.state:(j("isValidating",!0),w=v({data:x.current.data,error:x.current.error,isValidating:!0}),b.set(s,w),y(s,Object.assign({},w,{state:{isValidating:w.state.isValidating}})))),d){e.next=12;break}return e.next=11,p.fetcher.apply(p,[h].concat(n)).then((function(e){return{data:e,error:void 0,isValidating:!1}})).catch((function(e){return{data:void 0,error:e,isValidating:!1}}));case 11:d=e.sent;case 12:if(W=v(d),a.current){e.next=15;break}return e.abrupt("return");case 15:p.cache?(("boolean"==typeof p.cache?u.current.cache:p.cache).set(s,W),y(s,W)):E(d),i.reverse().forEach((function(e){e({key:o.current,state:d,fetchData:n})}));case 17:case"end":return e.stop()}}),e)}))),[h,p.cache,p.dedupingFetching,p.revalidationInterval,p.fetcher,x,a,u,o,E]);return(0,r.useEffect)((function(){if(p.cache){var e=function(e,t){var n=g.get(e);return n?g.set(e,[].concat(n,[t])):g.set(e,[t]),function(){g.delete(e)}}(s,(function(e){var t=e.state;t&&E(t)}));return e}}),[s,p.cache,E]),(0,r.useEffect)((function(){Array.isArray(p.initWith)&&(p.initWhenUndefined&&x.current.data||(x.current.isValidating=!1,S.apply(void 0,p.initWith),x.current.isValidating=!0))}),[x]),(0,r.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]),Object.assign(V,{fetcher:S})},W=Object.assign({React:r},r,{useRequest:w,useRequestConfig:d,RequestConfig:function(e){var t=e.cache,n=e.options,i=e.middleware,a=e.children,c={cache:new Map,options:o,middlewares:[]},u=c.cache,s=c.options,f=c.middlewares;return r.createElement(h.Provider,{value:{cache:null!=t?t:u,options:l(null!=n?n:s),middlewares:Array.isArray(i)?i:i?[i]:f}},a)},createOptions:l})}}]);